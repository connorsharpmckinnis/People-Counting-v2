<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Guide - Detection Engine</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üîç</text></svg>">
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
    <div class="container">
        <div class="hero-guide">
            <h1 style="color: white;">Detection Engine Guide</h1>
            <p class="subtitle" style="color: white;">A guide to mastering object detection and
                tracking workflows.</p>
            <div style="margin-top: 2rem;">
                <a href="/" class="btn btn-primary"
                    style="padding: 12px 24px; font-size: 1.1rem; background-color: white; color: #2d3436; text-decoration: none; font-weight: 600;">
                    üöÄ Back to Engine
                </a>
            </div>
        </div>

        <!-- Quick Start -->
        <section>
            <h2 style="color: white; margin-bottom: 2rem; text-align: center;">Getting Started in 3 Steps</h2>
            <div class="quick-start">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3>Upload & Configure</h3>
                    <p>Select your image or video and choose the <strong>Processing Mode</strong>. For best results, use
                        standard resolutions and common formats (MP4, MOV, JPG, PNG).</p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3>Tune the AI</h3>
                    <p>Select a <strong>Model</strong> size (Nano for speed, Large for accuracy) and set a
                        <strong>Confidence Threshold</strong>. 0.35 is usually the "sweet spot".
                    </p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3>Queue Job</h3>
                    <p>Submit your request. Large videos are processed in the background. You can check the <strong>Job
                            History</strong> at the bottom of the main page to see progress.</p>
                </div>
            </div>
        </section>

        <!-- Choosing Mode -->
        <div class="info-card">
            <h2>Deep Dive: Choosing a Processing Mode</h2>
            <p>Selecting the correct mode is the single most important factor for success.</p>

            <table class="mode-table">
                <thead>
                    <tr>
                        <th style="width: 25%;">Processing Mode</th>
                        <th style="width: 40%;">Best Suited For...</th>
                        <th>Characteristics</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Basic Image / Video</strong></td>
                        <td>Street photography, security cameras, other normal-sized imagery</td>
                        <td>
                            <span class="tag tag-fast">Very Fast</span>
                            <p style="margin-top: 0.5rem; font-size: 0.85rem;">Scans the whole frame at once. Best for
                                when objects are large and clearly visible.</p>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Sliced (SAHI)</strong></td>
                        <td>Drone/Aerial imagery, satellite photos, or 4K/8K landscape images with many tiny
                            objects.</td>
                        <td>
                            <span class="tag tag-slow">Intensive</span>
                            <p style="margin-top: 0.5rem; font-size: 0.85rem;">Tiles the image to find tiny details. 10x
                                more accuracy for small dots, but takes longer.</p>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Polygon / Zone</strong></td>
                        <td>Counting people on a specific sidewalk, cars at an intersection, or objects entering a shop
                            entrance.</td>
                        <td>
                            <span class="tag tag-balanced">Precise</span>
                            <p style="margin-top: 0.5rem; font-size: 0.85rem;">User-defined shapes. Only counts unique
                                items that pass through or reside in your drawn zones.</p>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Custom Classes</strong></td>
                        <td>Specific focus tasks where you only care about certain things (e.g. "Only show me Trucks and
                            Bicycles").</td>
                        <td>
                            <span class="tag tag-balanced">Focused</span>
                            <p style="margin-top: 0.5rem; font-size: 0.85rem;">Filters out the noise. Uses advanced
                                prompt-based logic to isolate exactly what you're looking for.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Decision Tree Callout -->
        <div class="decision-box">
            <h3>Quick Selection Guide</h3>
            <div class="decision-option">
                <div class="decision-icon">üõ∏</div>
                <div>
                    <strong>"I have drone footage and I need to count people or cars from 200ft up."</strong><br>
                    <small>Use <strong>Sliced Video</strong> with the <strong>Aerial Nano</strong> model.</small>
                </div>
            </div>
            <div class="decision-option">
                <div class="decision-icon">üìπ</div>
                <div>
                    <strong>"I need to know how many people walked into this building today."</strong><br>
                    <small>Use <strong>Polygon Crossing</strong>. Draw a box over the door.</small>
                </div>
            </div>
            <div class="decision-option">
                <div class="decision-icon">üì∏</div>
                <div>
                    <strong>"I just want to see what's in this random photo."</strong><br>
                    <small>Use <strong>Basic Image</strong> with <strong>Medium</strong> model.</small>
                </div>
            </div>
        </div>

        <!-- Advanced Features -->
        <div class="guide-grid">
            <div class="info-card" style="margin-bottom: 0;">
                <h2>Model Anatomy</h2>
                <div class="guide-item" style="margin-bottom: 1rem;">
                    <strong>‚ö° Nano</strong>
                    <p>Extremely fast. Use for real-time needs or very simple scenes. Good for processing videos.</p>
                </div>
                <div class="guide-item" style="margin-bottom: 1rem;">
                    <strong>‚öñÔ∏è Medium</strong>
                    <p>The "Goldilocks" model. Excellent balance of speed and intelligence. Most users should start
                        here.</p>
                </div>
                <div class="guide-item">
                    <strong>üß† Extra Large</strong>
                    <p>Heaviest processing. Used for difficult angles, blurred objects, or complex overlapping crowds.
                    </p>
                </div>
            </div>

            <div class="info-card" style="margin-bottom: 0;">
                <h2>Pro-User Tips</h2>
                <div class="callout callout-info" style="margin-top: 0;">
                    <span class="callout-icon">üí°</span>
                    <div>
                        <strong>Custom Models</strong><br>
                        Drop any <code>.pt</code> file into the <code>/models</code> directory on the server to use your
                        own custom-trained YOLO models.
                    </div>
                </div>
                <div class="callout callout-warning">
                    <span class="callout-icon">‚ö†Ô∏è</span>
                    <div>
                        <strong>Video Timeouts</strong><br>
                        Large images (in sliced mode) and videos may experience upload delays. We recommend trimming
                        long videos into 30-60
                        second clips before processing. For all large files, be patient while it processes.
                    </div>
                </div>
                <div class="callout callout-danger">
                    <span class="callout-icon">üõë</span>
                    <div>
                        <strong>Memory Usage</strong><br>
                        Running <em>Sliced Video</em> on 4K files with <em>Extra Large</em> models requires significant
                        GPU memory and will take a long time to process.
                    </div>
                </div>
            </div>
        </div>

        <!-- Troubleshooting & FAQ -->
        <div class="info-card" style="margin-top: 2rem;">
            <h2>Common Questions (FAQ)</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <div>
                    <h4 style="margin-bottom: 0.5rem; color: var(--text-primary);">Why is my count different
                        frame-by-frame?</h4>
                    <p style="font-size: 0.9rem; color: var(--text-secondary);">AI models make statistical guesses. If
                        an object is momentarily blocked by a tree or pole, the "tracking" might break. Take all counts
                        with a grain of salt.</p>
                </div>
                <div>
                    <h4 style="margin-bottom: 0.5rem; color: var(--text-primary);">What does 'Confidence' actually do?
                    </h4>
                    <p style="font-size: 0.9rem; color: var(--text-secondary);">It's a "Don't show me unless you are X%
                        sure" filter. Setting it too low (0.1) shows everything but creates ghosts. Setting it too high
                        (0.8) only shows things that are indisputably clear.</p>
                </div>
                <div>
                    <h4 style="margin-bottom: 0.5rem; color: var(--text-primary);">Can I draw multiple polygons?</h4>
                    <p style="font-size: 0.9rem; color: var(--text-secondary);">Yes! Draw your first shape, click
                        "Finish & Start New Region", and repeat. The system will track statistics for each region
                        independently.</p>
                </div>
                <div>
                    <h4 style="margin-bottom: 0.5rem; color: var(--text-primary);">Why is 'Sliced' so much slower?</h4>
                    <p style="font-size: 0.9rem; color: var(--text-secondary);">Because 'Sliced' might run the AI model
                        10-20 times per frame instead of once. It's doing a lot more work to find those tiny details.
                    </p>
                </div>
            </div>
        </div>

        <!-- Disclaimers -->
        <footer
            style="text-align: center; color: rgba(255,255,255,0.7); margin-top: 4rem; padding-bottom: 4rem; font-size: 0.9rem;">
            <p>Detection Engine is an evolving tool. Always validate AI-generated statistics for critical operational
                needs.</p>
            <p style="margin-top: 10px;">&copy; 2024 Town of Apex Detection Engine</p>
        </footer>
    </div>
</body>

</html>